import{_ as $,r,E as w,H as y,I as B,J as _,K as f,x as v,o,c as n,b as s,j as c,g as I,h as S,q as m,y as N,l as V,t as C,p as E,a as L,i as D,L as x}from"./index-FzuQ8Pql.js";import{d as A}from"./dummyDecks-z8ibd4Ki.js";const p=d=>(E("data-v-c9821d02"),d=d(),L(),d),H={class:"container"},R={key:0,class:"overlay"},F={class:"overlayBox"},T=p(()=>s("h1",null,"Warning",-1)),j=p(()=>s("h2",null,[D("This will erase the deck permanently "),s("br"),D(" Are you sure? ")],-1)),q={class:"overlayButtons"},G={class:"deckLayout"},J=p(()=>s("div",{class:"deckHeader"},[s("p",null,"Decks"),s("p",null,"Cards")],-1)),K={class:"deckName"},M={class:"secondHalf"},O={class:"cardCount"},W={class:"buttonGroup"},Y=["onClick"],z={__name:"DecksView",setup(d){const k=r([]);w();const u=r(!1);r(!1);const h=r(!1),l=r("");y(()=>{B(V,async a=>{if(a){h.value=!0;const e=m(v,"users",a.uid),t=await N(e);t.exists()&&(l.value=t.data().role)}else h.value=!1,l.value=""})}),y(async()=>{let a=await _(f(v,"decks"));k.value.push(...A),a.forEach(async e=>{const i=(await _(f(v,"decks/"+e.id+"/cards"))).docs.map(g=>g.data());k.value.push({...e.data(),cards:i,id:e.id})})});async function b(a){await x(m(v,"decks",a))}return(a,e)=>(o(),n("div",H,[u.value?(o(),n("div",R,[s("div",F,[T,j,s("div",q,[s("button",{onClick:e[0]||(e[0]=t=>u.value=!1),style:{"background-color":"#DF5555"}},"Yes"),s("button",{onClick:e[1]||(e[1]=t=>u.value=!1)},"No")])])])):c("",!0),s("div",G,[J,(o(!0),n(I,null,S(k.value,t=>(o(),n("div",{key:t.id,class:"deckItem"},[s("p",K,C(t.name),1),s("div",M,[s("div",O,[s("p",null,C(t.cards.length),1)]),s("div",W,[l.value==="teacher"?(o(),n("button",{key:0,onClick:e[2]||(e[2]=i=>a.$router.push("edit-deck"))},"Edit")):c("",!0),l.value==="teacher"?(o(),n("button",{key:1,onClick:i=>(b(t.id),u.value=!0)},"Delete",8,Y)):c("",!0),l.value==="student"?(o(),n("button",{key:2,onClick:e[3]||(e[3]=i=>a.$router.push("study"))},"Review")):c("",!0)])])]))),128))]),l.value==="teacher"?(o(),n("button",{key:1,class:"createButton",onClick:e[4]||(e[4]=t=>a.$router.push("create-deck"))},"Create Deck")):c("",!0),l.value==="student"?(o(),n("button",{key:2,class:"createButton",onClick:e[5]||(e[5]=t=>a.$router.push("search"))},"Search Decks")):c("",!0)]))}},U=$(z,[["__scopeId","data-v-c9821d02"]]);export{U as default};
